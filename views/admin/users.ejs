<style type="text/css">

    #users-page > div > .table > tbody > tr > td, 
    #users-page > div > .table > tbody > tr > th,
    #users-page > div > .table > tfoot > tr > td, 
    #users-page > div > .table > tfoot > tr > th, 
    #users-page > div > .table > thead > tr > td, 
    #users-page > div > .table > thead > tr > th {
        vertical-align: baseline;
        padding: 8px;
    }

    #users-page > div > .table > tbody > tr > td > p {
        padding-bottom: 0px;
    }

    #users-page > div > .table > tbody > tr > td > label {
        padding-top: 8px;
    }

    #users-page > div > .table {
        margin-left: auto; 
        margin-right: auto; width: 100%;
    }

    #users-page > .filter {
        width: 50%;
    }
</style>

<!-- Switch button -->
<style type="text/css">
    /* The switch - the box around the slider */
    .switch {
        vertical-align: bottom;
        margin-bottom: 0px;
        position: relative;
        display: inline-block;
        width: 60px;
        height: 24px;
    }

    /* Hide default HTML checkbox */
    .switch input {display:none;}

    /* The slider */
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 16px;
        width: 16px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }

    input:checked + .slider {
        background-color: #2196F3;
    }

    input:focus + .slider {
        box-shadow: 0 0 1px #2196F3;
    }

    input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(35px);
    }

    /* Rounded sliders */
    .slider.round {
      border-radius: 34px;
    }

    .slider.round:before {
      border-radius: 50%;
    }
</style>

<div id="content_body">
    <div class="page-header">
        <h2>
            Users
        </h2>
    </div>
    <div id="users-page">
        <div class="filter table_search client">
            <input class="form-control" value="" type="text" name="list_users__filter__q" placeholder="Filter">
        </div>
        <div class="btn-group"> 
            <button title="Create user" data-toggle="modal" data-target="#create_role" class="btn ajax-modal">
                Create user
            </button>
        </div>
        <div class="btn-group"> 
            <button title="Delete user" data-toggle="modal" data-target="#delete_user_modal" class="btn ajax-modal">
                Delete user
            </button>
        </div>
        <div style="overflow-x:auto;">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th width="5%">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="check_all">
                            </div> 
                        </th>
                        <th width="5%"></th>
                        <th width="20%">Id</th>
                        <th width="10%">Username</th>
                        <th width="10%">Email</th>
                        <th width="5%">Enable</th>
                        <th width="10%">Actions</th>
                    </tr>
                </thead>
                <tbody> 
                    <tr>
                        <td width="5%">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input">
                            </div>
                        </td>
                        <td align="left"><img alt="User" src="/img/logos/small/user.png"></td>
                        <td><p>982yh1h1uh1n2j1n</p></td>
                        <td><a href="/idm/users/admin">john</a></td>
                        <td><p>email</p></td>
                        <td align="center">
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                        <td align="center">
                            <div class="select-multiple form-group">
                                <select title="Select action" class="selectpicker" data-size="5" data-width="100%" data-dropup-auto="false" data-dropdown-align-right="true">
                                    <option class="edit_user" data-icon="fa fa-edit" value="edit">Edit</option>
                                    <option class="reset_password" data-icon="fa fa-key" value="password">Change password</option>  
                                </select>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td width="5%">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input">
                            </div>
                        </td>
                        <td align="left"><img alt="User" src="/img/logos/small/user.png"></td>
                        <td><p>982yh1h1uh1n2j1n</p></td>
                        <td><a href="/idm/users/admin">mary</a></td>
                        <td><p>email</p></td>
                        <td align="center">
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                        <td align="center">
                            <div class="select-multiple form-group">
                                <select title="Select action" class="selectpicker" data-size="5" data-width="100%" data-dropup-auto="false" data-dropdown-align-right="true">
                                    <option class="edit_user" data-icon="fa fa-edit" value="edit">Edit</option>
                                    <option class="reset_password" data-icon="fa fa-key" value="password">Change password</option>  
                                </select>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td width="5%">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input">
                            </div>
                        </td>
                        <td align="left"><img alt="User" src="/img/logos/small/user.png"></td>
                        <td><p>982yh1h1uh1n2j1n</p></td>
                        <td><a href="/idm/users/admin">july</a></td>
                        <td><p>email</p></td>
                        <td align="center">
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider round"></span>
                            </label>
                        </td>
                        <td align="center">
                            <div class="select-multiple form-group">
                                <select title="Select action" class="selectpicker" data-size="5" data-width="100%" data-dropup-auto="false" data-dropdown-align-right="true">
                                    <option class="edit_user" data-icon="fa fa-edit" value="edit">Edit</option>
                                    <option class="reset_password" data-icon="fa fa-key" value="password">Change password</option>  
                                </select>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<%- include _delete_user %>
<%- include _reset_password %>
<%- include _edit_user %>

<script type="text/javascript">

// Handle the authorization of users to be administrators
$(document).ready(function() {

    $(".selectpicker").on("changed.bs.select", function(e, clickedIndex, newValue, oldValue) {

        var selectedD = $(this).find('option').eq(clickedIndex).val();

        if (selectedD === 'password') {
            $('#reset_password_modal').modal('show');
        } else if (selectedD === 'edit') {
            $('#edit_user_modal').modal('show');
        }

        $('.selectpicker').selectpicker('val', '');;
    })

    $('#check_all').click(function() {
        if ($(this).prop('checked')) { 
            $('.form-check-input').prop('checked', true);
        } else {
            $('.form-check-input').prop('checked', false);
        }
    })
})

</script>